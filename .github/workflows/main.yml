name: CI
on:
  push:
    branches:
      - main
      
  pull_request:
    branches:
      - main

jobs:
    run_tests:
        runs-on: windows-latest
        steps:
          - name: Checkout code
            uses: actions/checkout@v3
          
          - name: setup-msbuild  
            uses: microsoft/setup-msbuild@v2
                     
          - name: Build solution
            run: msbuild Calculator.sln -target:Calculator,CalculatorTests
            
          - run:  ./x64/Release/CalculatorTests.exe
